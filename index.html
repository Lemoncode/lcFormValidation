<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>LcFormValidation</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="container">
      <div class="row">
        <header id="header" class="jumbotron text-center">
          <h1>LcFormValidation</h1>
          <p>A framework agnostic async form validation library</p>
        </header>
        <main class="col-md-9">
          <section id="introduction">
            <article>
              <h1 class="heading">
                <span>Introduction</span>
                <a href="#introduction">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h1>
              <p>
                LcFormValidation is a small JavaScript library that provides you form validation without any framework nor library attachment
                so you can easily integrate it in your stack. Validate your viewmodel either on client or server side with
                <a href="//nodejs.org" target="_blank">Node.js</a>.
              </p>
              <ul class="features">
                <li>Heavily JavaScript based (no HTML attributes).</li>
                <li>Support for sync / async validations.</li>
                <li>Support for field and global form validations.</li>
                <li>Customizable multi trigger / event validation.</li>
                <li>CreateExtensible validators.</li>
                <li>Lightweight library, just 21.3KB minified (6.3KB gzipped).</li>
                <li>Client / server side validation.</li>
                <li>It uses native <a href="//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a>                  to handle validations (polyfill is included).</li>
              </ul>
            </article>
          </section>
          <section id="download">
            <h1 class="heading">
              <span>Download</span>
              <a href="#download">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <article>
              <h3>Using npm</h3>
              <p>
                <pre class="snippet"><code class="language-bash">npm install lc-form-validation</code></pre>
              </p>
            </article>
            <article>
              <h3>Direct donwload</h3>
              <div class="row">
                <div class="col-sm-12 download">
                  <div class="col-sm-4">
                    <a role="button" class="btn btn-primary btn-block">v1.0.0 production version</a>
                  </div>
                  <div class="col-sm-4 row">
                    <span class="download-description">21,3KB minified, packed</span>
                  </div>
                </div>
                <div class="col-sm-12 download">
                  <div class="col-sm-4">
                    <a role="button" class="btn btn-default btn-block">v1.0.0 development version</a>
                  </div>
                  <div class="col-sm-4 row">
                    <span class="download-description">71KB, full source</span>
                  </div>
                </div>
              </div>
            </article>
          </section>
          <section id="installation">
            <h1 class="heading">
              <span>Installation</span>
              <a href="#installation">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <article>
              <h4>Using Required.js/AMD</h4>
              <pre class="snippet"><code class="language-js">require(['lc-form-validation'], function(lcFormValidation) {
  var createFormValidation = lcFormValidation.createFormValidation;
  // ...
}</code></pre>
            </article>
            <article>
              <h4>Using ES6 modules</h4>
              <pre class="snippet"><code class="language-js">const { createFormValidation } = require('lc-form-validation');

// harmony syntax:
import { createFormValidation } from 'lc-form-validation';
</code></pre>
            </article>
            <article>
              <h4>Using script tag</h4>
              <pre class="snippet"><code class="language-jsx">&lt;script&gt;
  var createFormValidation = window['lc-form-validation'].createFormValidation;
&lt;/script&gt;</code></pre>
            </article>
          </section>
          <section id="examples">
            <h1 class="heading">
              <span>Examples</span>
              <a href="#examples">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <article>
              <h3>Simple form</h3>
              <p>A simple form with fullname and password fields using React + TypeScript. Applied validations:</p>
              <ul>
                <li>both fullname and password fields are mandatory (<a href="#validators-required"><code>required</code></a>                  validator + custom validator).</li>
              </ul>
              <p><a href="//github.com/Lemoncode/lcFormValidation/tree/master/samples/react/00%20SimpleForm" target="_blank">View source code</a></p>
            </article>
            <article>
              <h3>Signup form</h3>
              <p>
                A sign up form with login, password and confirm password fields using React + TypeScript with the next validation constraints:
              </p>
              <ul>
                <li>login is required and has to not exists on GitHub (<a href="#validators-required"><code>required</code></a>                  validator + custom validator).</li>
                <li>password is mandatory and has to be minimum 4 characters length (<a href="#validators-minLength"><code>minLength</code></a>                  validator).</li>
                <li>confirm password is mandatory and has to be the same value as password field (custom validator).</li>
              </ul>
              <p><a href="//github.com/Lemoncode/lcFormValidation/tree/master/samples/react/01%20SignupForm" target="_blank">View source code</a></p>
            </article>
            <article>
              <h3>Quiz form</h3>
              <p>
                A simple quiz with three options made with React + TypeScript where there has to be at least one checked option to pass the
                validation (custom global validation).
              </p>
              <p><a href="//github.com/Lemoncode/lcFormValidation/tree/master/samples/react/02%20QuizForm" target="_blank">View source code</a></p>
            </article>
            <article>
              <h3>Shopping form</h3>
              <p>A ittle shopping form using jQuery + ES6 where the user has to select a product with a version and optionally
                apply a discount code and enter its NIF. Validations applied:</p>
              <ul>
                <li>The brand and product fields are mandatory (<a href="#validators-required"><code>required</code></a> validator).</li>
                <li>The discount code is optional but needs to have a valid format if fulfilled (<a href="#validators-pattern"><code>pattern</code></a>                  validator).</li>
                <li>NIF field is mandatory with a valid format (<a href="#validators-required"><code>required</code></a> validator
                  + custom validator</li>
              </ul>
              <p><a href="//github.com/Lemoncode/lcFormValidation/tree/master/samples/" target="_blank">View source code</a></p>
            </article>
          </section>
          <section id="get-started">
            <h1 class="heading">
              <span>Get started</span>
              <a href="#get-started">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <article id="overview">
              <h2 class="heading">
                <span>Overview</span>
                <a href="#overview">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h2>
              <p>Let's say we want to add validation support for a login form with next constraints:</p>
              <ul>
                <li><code>login</code> is mandatory and has to be a valid email address.</li>
                <li><code>password</code> is mandatory.</li>
              </ul>
              <figure>
                <img src="img/loginForm.png" alt="Login form" class="img-responsive">
              </figure>
              <p>
                To implement the form validation you just only need an object literal to declare the proper
                <a href="#ValidationConstraint"> field validation constraints</a> for the two fields:
              </p>
              <pre class="snippet"><code class="language-js">// validation constraints definition
const validationConstraints = {
  fields: {
    login: [
      { validator: Validators.required },
      { validator: Validators.email }
    ],
    password: [
      { validator: Validators.required }
    ]
  }
};</code></pre>
              <p>Then create an instance of a <a href="#FormValidation"><code>FormValidation</code></a>:</p>
              <pre class="snippet"><code class="language-js">// create a form validation instance
const formValidation = createFormValidation(validationConstraints);</code></pre>
              <p>Finally apply validation when your data needs to be validate (e.g. a submit event handler):</p>
              <pre class="snippet"><code class="language-js">// e.g. viewModal value: { login: 'johndoe@example.com', password: 'jdoe123' }
function onSave(viewModel) {
  formValidation
    .validateForm(viewModel)
    .then(validationResult => {
      if(validationResult.succeeded) {
        // we can now send it to server to validate credentials
      } else {
        // display validation errors on UI
        displayFormErrors(validationResult);
      }
    })
    .catch(error => {
      // Oops, an error happened...
      handleError(error.message);
    });
}</code></pre>
            </article>
            <article id="ValidationConstraint">
              <h3 class="heading">
                <span>Validation constraint</span>
                <a href="#ValidationConstraint">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The validation constraints object is just an object literal passed with two main properties:
              </p>
              <h4><strong>fields</strong></h4>
              <p>
                An object containing all fields keys that need validations. Each field will have an array of FieldValidationConstraint objects,
                each one with three properties:
              </p>
              <ul>
                <li>
                  <code>validator</code> A function that will validate the field and return a
                  <a href="#FieldValidationResult"><code>FieldValidationResult</code></a> or a promise wrapping it if the
                  validator is async
                </li>
                <li>
                  <code>eventsFilter</code> <strong>(optional)</strong> An object containing one o more event names, that
                  will be used as a filter when the validator needs to be triggered on a specific event, and a boolean value
                  (true to use the filter). The default value is: <code>{ onChange: true }</code>.
                </li>
                <li>
                  <code>customParams</code> <strong>(optional)</strong> An object with some values needed by the validator
                  (e.g. a date format).
                </li>
              </ul>
              <pre class="snippet"><code class="language-js">fields: {
  &lt;fieldName&gt;: [
    {
      validator: &lt;validatorFunction&gt;, // function(value, viewModel, customParams)
      eventsFilter: {
        &lt;eventName&gt;: &lt;boolean&gt;,
        ...
      },
      customParams: { ... }
    }
  ]
}</code></pre>
              <h4><strong>global</strong></h4>
              <p>
                The global property will hold an array of validation functions that will validate the entire viewModel:
                <pre class="snippet"><code class="language-js">global: [
  &lt;globalValidatorFunction&gt;, // function(viewModel)
  ...
]</code></pre>
              </p>
            </article>
            <article id="validating-form">
              <h3 class="heading">
                <span>Validating form</span>
                <a href="#validating-form">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                In order to validate a single field or the entire form you have to use the methods
                <a href="#validateField"><code>validateField</code></a> and <a href="#validateForm"><code>validateForm</code></a>                of the instance returned by <code>createFormValidation</code> described in the <a href="#api">API</a> section.
              </p>
            </article>
          </section>
          <section id="validators">
            <h1 class="heading">
              <span>Validators</span>
              <a href="#validators">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <p>LcFormValidation includes a set of basic validation rules you can use. You can also write
              <a href="#custom-validators">your own validator functions</a> if you need some specific domain validators.</p>
            <article id="validators-required">
              <h3 class="heading">
                <span>Validators.required</span>
                <a href="#validators-required">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The <strong>required</strong> validator will check the value is not empty. This validator is useful when
                you need a fulfilled text field or a radio / checkbox button marked. These values are considered empty:
                <ul>
                  <li><code>null</code></li>
                  <li><code>undefined</code></li>
                  <li><code>false</code></li>
                  <li>Empty string <code>""</code></li>
                  <li>Whitespace only string <code>" "</code> (it can be disabled with <code>customParams.trim</code> set to
                    <code><strong>false</strong></code>).</li>
                </ul>
              </p>
              <pre class="snippet"><code class="language-js">import { createFormValidation, Validators } from 'lc-form-validation';
const validationConstraints = {
  fields: {
    firstname: [
      { validator: Validators.required }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);

formValidation
  .validateField(null, 'firstname', 'John')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.type); // 'REQUIRED'
    console.log(validationResult.errorMessage); // ''
  });

formValidation
  .validateField(null, 'firstname', '')
  .then(validationResult => {
    console.log(validationResult.succeeded); // false
    console.log(validationResult.type); // 'REQUIRED'
    console.log(validationResult.errorMessage);
    // 'Please fill in this mandatory field.'
  });</code></pre>
            </article>
            <article id="validators-minLength">
              <h3 class="heading">
                <span>Validators.minLength</span>
                <a href="#validators-minLength">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The <strong>minLength</strong> validator will check if the length of the string passed as value is equals
                or greater than the length supplied in <code>customParams.length</code>.
              </p>
              <p class="alert alert-info">
                Note: empty values such <code>null</code> or <code>undefined</code> will be marked as valid values. If you
                need to check for non-empty values you may use this validator along with
                <a href="#validators-required">required</a> validator.
              </p>
              <p class="alert alert-danger">
                <strong>Important!</strong> You must always provide<code>customParams.length</code> and it must be a number.
                In case it is not provided an error will be thrown in the <code>catch</code> block of the returned promise.
              </p>
              <pre class="snippet"><code class="language-js">import { createFormValidation, Validators } from 'lc-form-validation';

const validationConstraints = {
  fields: {
    username: [
      {
        validator: Validators.minLength,
        customParams: { length : 4 }
      }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);

formValidation
  .validateField(null, 'username', 'jasmine')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.type); // 'MIN_LENGTH'
    console.log(validationResult.errorMessage); // ''
  });

formValidation
  .validateField(null, 'username', 'jax')
  .then(validationResult => {
    console.log(validationResult.succeeded); // false
    console.log(validationResult.type); // 'MIN_LENGTH'
    console.log(validationResult.errorMessage);
    // 'The value provided must have at least 4 characters.'
  });</code></pre>
            </article>
            <article id="validators-maxLength">
              <h3 class="heading">
                <span>Validators.maxLength</span>
                <a href="#validators-maxLength">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The <strong>maxLength</strong> validator will check if the length of the string passed as value is lesser
                or equals than the length supplied in <code>customParams.length</code>.
              </p>
              <p class="alert alert-info">
                Note: empty values such <code>null</code> or <code>undefined</code> will be marked as valid values. If you
                need to check for non-empty values you may use this validator along with
                <a href="#validators-required">required</a> validator.
              </p>
              <p class="alert alert-danger">
                <strong>Important!</strong> You must always provide<code>customParams.length</code> and it must be a number.
                In case it is not provided an error will be thrown in the <code>catch</code> block of the returned promise.
              </p>
              <pre class="snippet"><code class="language-js">import { createFormValidation, Validators } from 'lc-form-validation';

const validationConstraints = {
  fields: {
    password: [
      {
        validator: Validators.maxLength,
        customParams: { length : 8 }
      }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);

formValidation
  .validateField(null, 'password', 'test1234')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.type); // 'MAX_LENGTH'
    console.log(validationResult.errorMessage); // ''
  });

formValidation
  .validateField(null, 'password', 'loooooongp@s$w0rd')
  .then(validationResult => {
    console.log(validationResult.succeeded); // false
    console.log(validationResult.type); // 'MAX_LENGTH'
    console.log(validationResult.errorMessage);
    // 'The value provided is too long. Length must not exceed 8 characters.'
  });</code></pre>
            </article>
            <article id="validators-pattern">
              <h3 class="heading">
                <span>Validators.pattern</span>
                <a href="#validators-pattern">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The <strong>pattern</strong> validator will check if the value matches a regular expresion given in <code>customParams.pattern</code>                option. This regular expression can be either a
                <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a>                instance or a string. It's important to mention that <code><strong>flags</strong></code> in string patterns
                are not supported.
              </p>
              <p>
                If you need flags in string patterns you can use the
                <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp constructor</a>.
              </p>
              <p>
                <strong>Important!</strong> You must always provide<code>customParams.pattern</code>. In case it is not provided
                an error will be thrown in the <code>catch</code> block of the returned promise.
              </p>
              <pre class="snippet"><code class="language-js">import { createFormValidation, Validators } from 'lc-form-validation';

const CODE_PATTERN = /^LC\d{3}$/; // or "^LC\d{3}$"
const validationConstraints = {
  fields: {
    code: [
      {
        validator: Validators.pattern,
        customParams: { pattern: CODE_PATTERN }
      }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);

formValidation
  .validateField(null, 'code', 'LC001')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.type); // 'PATTERN'
    console.log(validationResult.errorMessage); // ''
  });

formValidation
  .validateField(null, 'code', '003a')
  .then(validationResult => {
    console.log(validationResult.succeeded); // false
    console.log(validationResult.type); // 'PATTERN'
    console.log(validationResult.errorMessage);
    // 'Please provide a valid format.'
  });</code></pre>
            </article>
            <article id="validators-email">
              <h3 class="heading">
                <span>Validators.email</span>
                <a href="#validators-email">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                The email validator will check if the given string value is a valid email address. LcFormValidation's email validator uses
                a RegExp provided by <a href="//emailregex.com">emailregex.com</a> that follows RFC 5322
                Official Standard since email address validation is hard to implement and there is not an unique source of
                truth. If this email validator doesn't meet your requirements you can write your
                <a href="#custom-validators">custom validator</a>.
              </p>
              <p class="alert alert-info">
                Note: empty values such <code>null</code> or <code>undefined</code> will be marked as valid values. If you
                need to check for non-empty values you may use this validator along with
                <a href="#validators-required">required</a> validator.
              </p>
              <pre class="snippet"><code class="language-js">import { createFormValidation, Validators } from 'lc-form-validation';

const viewModel = null;
const validationConstraints = {
  fields: {
    email: [
      { validator: Validators.email }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);

formValidation
  .validateField(viewModel, 'email', 'johndoe@example.com')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.type); // 'EMAIL'
    console.log(validationResult.errorMessage); // ''
  });

formValidation
  .validateField(null, 'email', 'invalidValue')
  .then(validationResult => {
    console.log(validationResult.succeeded); // false
    console.log(validationResult.type); // 'EMAIL'
    console.log(validationResult.errorMessage);
    // 'Please enter a valid email address.'
  });</code></pre>
            </article>
          </section>
          <section id="custom-validators">
            <h2 class="heading">
              <span>Implementing a custom validator</span>
              <a href="#custom-validators">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h2>
            <article>
              <h3>Writing a FieldValidationFunction</h3>
              <p>
                To create a field validator you only need to provide a function that accepts first the value of the field and optionally
                the entire view model and a plain object with extra parameters. These parameters are injected when the validator
                is called. Your field validator must always return a FieldValidationResult (or a wrapper promise for async
                validations) that returns a FieldValidationResult. The signature for a
                <strong>synchronous</strong> field validation function is:
              </p>
              <pre class="snippet"><code class="language-ts">function myValidator(value: any, vm: any, customParams: any):FieldValidationResult</code></pre>
              <h4>Example of a <strong>synchronous</strong> field validator</h4>
              <p>This example shows a validator that needs to check if a given date is before today using
                <a href="//momentjs.com">Moment.js</a>:</p>
              <pre class="snippet"><code class="lang-js">function isDateBeforeTodayValidator(value, vm, customParams) {
  const yesterday = moment().substract(1, 'days').startOf('day');
  const selectedDate = moment(value);
  const isValid = selectedDate.isSameOrBefore(yesterday);
  const errorMessage = 'The selected day must be before today.';
  const validationResult = new FieldValidationResult();

  validationResult.succeeded = isValid;
  validationResult.type = 'BEFORE_YESTERDAY';
  validationResult.errorMessage = isValid ? '' : errorMessage;
  return validationResult;
}
</code></pre>
              <h4>Asynchronous field validator</h4>
              <p>
                To write an asynchronous field validation function you only needs a synchronous validation function that returns a promise
                with the <a href="#FieldValidationResult"><code>FieldValidationResult</code></a>. The signature
                for an asynchronous field validator is:
              </p>
              <pre class="snippet"><code class="language-ts">function myValidator(value: any, vm: any, customParams: any):Promise&lt;FieldValidationResult&gt;</code></pre>
              <h4>Example of an <strong>asynchronous</strong> field validator</h4>
              <p>This example validates if the given user <strong>does not exist</strong> in <a href="//github.com">GitHub</a>:</p>
              <pre class="snippet"><code class="lang-js">function userExistsOnGitHubValidator(value, vm, customParams) {
  const errorMessage = `The username "${value}" already exists`;
  const validationResult = new FieldValidationResult();
  validationResult.type = 'GITHUB_USER_EXISTS';

  return new Promise(resolve => {
    fetch(`https://api.github.com/users/${value}`)
      .then(result => {
        // Status 200, meaning user exists, so the given user is not valid
        validationResult.isValid = false;
        validationResult.errorMessage = errorMessage;
        resolve(validationResult);
      })
      .catch(error => {
        if(error.status === 404) {
          // User does not exists, so the given user is valid
          validationResult.isValid = true;
          validationResult.errorMessage = '';
          resolve(validationResult);
        } else {
          // Unexpected error
          reject(error);
        }
      });
  });
}
</code></pre>
            </article>
          </section>
          <section id="api">
            <h1 class="heading">
              <span>API</span>
              <a href="#api">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h1>
            <article id="FieldValidationResult">
              <h3 class="heading">
                <span>FieldValidationResult</span>
                <a href="#FieldValidationResult">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>FieldValidationResult is a simple class with three main properties:</p>
              <ul>
                <li>
                  <code>succeeded</code> <em>boolean</em> - The result of a validation constraint.
                </li>
                <li>
                  <code>type</code> <em>string</em> - An identifier to associate the validation result with a validator,
                  it is useful for checking out what validation did not get passed when multiple validators on a field are
                  applied.
                </li>
                <li>
                  <code>errorMessage</code> <em>string</em> - A message describing why the field did not get validated. This
                  field can be declared as empty for a successful validation.
                </li>
              </ul>
              <p>
                A fourth property is added when it is returned by <a href="#validateForm"><code>validateForm</code></a> or
                <a href="#validateField"><code>validateField</code></a> named <code>key</code> that will hold the field name.
              </p>
              <p class="alert alert-info">Note: you can use a plain object as validation result without extend FieldValidationResult class.</p>
              <h4>Example of a FieldValidationResult</h4>
              <pre class="snippet"><code class="language-js">{
  succeeded: false,
  errorMessage: 'Please, fill in this mandatory field',
  type: 'REQUIRED',
  key: 'lastName'
}</code></pre>
            </article>
            <article id="FormValidationResult">
              <h3 class="heading">
                <span>FormValidationResult</span>
                <a href="#validateForm">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                FormValidationResult is an global validation result returned by
                <a href="#FormValidation:validateForm"><code>validateForm</code></a>. It has three main properties:
              </p>
              <ul>
                <li><code>succeeded</code> <em>boolean</em> - The result of the entire form validation.</li>
                <li><code>fieldErrors</code> <em>Array&lt;FieldValidationResult&gt;</em> - A list of all field errors given as
                  a result of validate every field. This property contains every field validation result, so it will be filled
                  even if all validation passed.</li>
                <li><code>formGlobalErrors</code> <em>Array&lt;FieldValidationResult&gt;</em> - A list of all global errors given
                  as a result of executing every global validation function. This property can be empty if there are no errors.</li>
              </ul>
              <h4>Example of a FormValidationResult</h4>
              <pre class="snippet"><code class="language-js">{
  succeeded: true,
  fieldErrors: [
    {
      succeeded: true,
      errorMessage: '',
      type: 'EMAIL',
      key: 'emailAddress'
    }
  ],
  formGlobalErrors: []
}</code></pre>
            </article>
            <article id="validateForm">
              <h3 class="heading">
                <span>validateForm</span>
                <a href="#validateForm">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <pre class="snippet"><code class="language-ts">formValidation.validateForm(vm: any): Promise&lt;FormValidationResult&gt;;</code></pre>
              <p>
                It validates the entire viewModel passed as argument triggering all field and global validations previously defined in
                <a href="#ValidationConstraint"><code>validationConstraints</code></a>. Field validations are proxied to
                <a href="#FormValidation:validateField"><code>validateField</code></a> and global validations are executed.
              </p>
              <p>
                When all validations are executed they're merged in a
                <a href="#FormValidationResult"><code>FormValidationResult</code></a> and returned in a promise.
              </p>
              <h4>Example:</h4>
              <pre class="snippet"><code class="language-js">// Define a validator
function areAllFieldsCheckedValidation(vm) {
  const validationResult = new FieldValidationResult();
  const errorMessage = 'All fields must be checked';
  const isValid = areAllChecked(vm);
  validationResult.succeeded = validationResult;
  validationResult.type = 'ALL_CHECKED';
  validationResult.errorMessage = isValid ? '' : errorMessage;

  return validationResult;
}

function isAllChecked(vm) {
  return Object.keys(vm).every(field => vm[field].checked === true);
}

// Define the form validation constraints
const validationConstraints = {
  global: [areAllFieldsCheckedValidation]
}

// Create an instance of FormValidation
const formValidation = createFormValidation(validationConstraints);
const viewModel = {
  fieldA: { value: 'A', checked: true },
  fieldB: { value: 'B', checked: true },
  fieldC: { value: 'C', checked: true },
};

// Apply validation
formValidation
  .validateForm(viewModel)
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.fieldErrors); // []
    console.log(validationResult.formGlobalErrors);
    // [{ errorMessage: '', type: 'ALL_CHECKED', key: '_GLOBAL_FORM_', succeeded: true }]
  })
  .catch(error => {
    // handle error
  });</code></pre>
            </article>
            <article id="validateField">
              <h3 class="heading">
                <span>validateField</span>
                <a href="#validateField">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <pre class="snippet"><code class="language-ts">validateField(vm: any, key: string, value: any, eventsFilter?: ValidationEventsFilter): Promise&lt;FieldValidationResult&gt;;</code></pre>
              <p>
                It validates a value against all constraints for a field previously defined in
                <a href="#ValidationConstraint"><code>validationConstraints</code></a>. It will trigger every field validation
                function sequentially and evaluate its <a href="#FieldValidationResult"><code>FieldValidationResult</code></a>,
                if the validation result is not successful it will stop executing the next field validation function, so
                <strong>it will always return the first error</strong>.
              </p>
              <p>It accepts four arguments:</p>
              <ul>
                <li><code>vm</code> <em>any</em> - The entire viewModel. This can be optionally passed as <code>null</code> if
                  your field validation does not needs to do checks againsts your viewModel.</li>
                <li><code>key</code> <em>string</em> - The name of the field that requires validation. This key has to be the
                  same as defined in your <a href="#ValidationConstraint"><code>ValidationConstraints</code></a>.</li>
                <li><code>value</code> <em>any</em> - The value to validate against the field validation constraints.</li>
                <li><code>eventsFilter</code> <strong>(optional)</strong> <em>Object</em> - An object with the signature <code>{ &lt;eventName&gt;: boolean }</code>                  describing the event (or events) to filter what validation functions are triggered. <strong>Only the validations matching the filter will be executed.</strong>                  If you need to trigger a validation function multiple times you can add more event filters. The default
                  value is:
                  <code>{ onChange: true }</code>. You can also define your custom event names.</li>
              </ul>
              <p class="alert alert-info">Note: This events are not directly attached to DOM, their purpose is only to filter validation functions.</p>
              <p class="alert alert-danger">
                <strong>Important!</strong> Since every field validation function is executed sequentially <strong>the order you define the field validation functions matters</strong>.
              </p>
              <h4>Example - single validation:</h4>
              <pre class="snippet"><code class="language-js">// Define a validator
function firstUpperCaseValidator(value) {
  const validationResult = new FieldvalidationResult();
  const errorMessage = 'First name's first letter must be uppercase';
  const isValid = value.charAt(0).toUpperCase() === value.charAt(0);
  validationResult.succeeded = isValid;
  validationResult.errorMessage = isValid ? '' : errorMessage;
  validationResult.type = 'FIRSTNAME';

  return validationResult;
}

// Define the field validation constraints
const validationConstraints = {
  fields: {
    firstName: [
      { validator: Validators.required },
      { validator: firstUpperCaseValidator }
    ]
  }
};

// Create an instance of FormValidation
const formValidation = createFormValidation(validationConstraints);

// Apply validation
formValidation
  .validateField(null, 'firstName', 'John')
  .then(validationResult => {
    console.log(validationResult.succeeded); // true
    console.log(validationResult.errorMessage); // ''
    console.log(validationResult.type); // 'FIRSTNAME'
    console.log(validationResult.key); // 'firstName'
  })
  .catch(error => {
    // handle error
  });
</code></pre>
            </article>
            <article id="isValidationInProgress">
              <h3 class="heading">
                <span>isValidationInProgress</span>
                <a href="#isValidationInProgress">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <pre class="snippet"><code class="language-ts">formValidation.isValidationInProgress(): boolean;</code></pre>
              <p>It checks if a form or a field validation is currently in progress by returning <code>true</code> or <code>false</code>.</p>
              <h4>Example:</h4>
              <pre class="snippet"><code class="language-js">const validationConstraints = {
  fields: {
    firstName: [
      { validator: Validators.required }
    ],
    lastName: [
      { validator: Validators.required }
    ],
  }
};

const formValidation = createFormValidation(validationConstraints);
const viewModel = {
  firstName: 'John',
  lastName: 'Doe',
};

formValidation
  .validateform(viewModel)
  .then(validationResult => {
    console.log(formValidation.isValidationInProgress()); // false (validation finished)
  });

console.log(formValidation.isValidationInProgress()); // true (validation started)
</code></pre>
              <h3 id="eventsFilter" class="heading">
                <span>Using <code>eventsFilter</code> to filter validations</span>
                <a href="#eventsFilter">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <p>
                By default <code>{ onChange: true }</code> is applied when the <code>eventsFilter</code> object is not passed.
                You can pass the name of a event or a identifier to track when certain validations are triggered..
              </p>
              <p class="alert alert-danger"><strong>Important!</strong> If you filter a validation using a <strong>non registered event name</strong> the
                <a href="#FieldValidationResult"><code>FieldValidationResult</code></a> will be <strong><code>undefined</code></strong>.</p>
              <p>Let's take a look at the next example. Suppose we need to apply a validation to signup a new user and the username
                with the next constraints:</p>
              <ul>
                <li>The username is mandatory.</li>
                <li>The username can only contains lowercase letters and numbers.</li>
                <li>The username must not exist in the database.</li>
              </ul>
              <p>
                We can apply the required and format validation when the user types and apply the database verification when the input foucs
                out. The resulting validation constraints would look like this:
              </p>
              <pre class="snippet"><code class="language-js">const validationConstraints = {
  fields: {
    username: [
      { validator: Validators.required },
      {
        validator: Validators.pattern,
        customParams: { pattern: /^[a-z\d]+$/ },
        eventsFilter: { onChange: true, onBlur: true },
      },
      {
        // your custom validator that queries the database
        validator: usernameDoesNotExistsValidator,
        eventsFilter: { onBlur: true }
      }
    ]
  }
};

const formValidation = createFormValidation(validationConstraints);</code></pre>
              <p>Then attach the proper events to your form input and validate the field. For a jQuery implementation it would
                look like this:</p>
              <pre class="snippet"><code class="language-js">$('#txtUsername').on({
  keyup: function() {
    formValidation
      .validateField(null, 'username', $(this).val())
      .then(function(validationResult) {
        if (validationResult.succeeded) {
          $('#usernameErrorMessage').hide().val('');
        } else {
          $('#usenameErrorMessage').val(validationResult.errorMessage).show();
        }
      });
  },
  blur: function() {
    formValidation
      .validateField(null, 'username', $(this).val(), { onBlur: true }) // apply event filter
      .then(function(validationResult) {
        if (validationResult.succeeded) {
          $('#usernameErrorMessage').hide().val('');
        } else {
          $('#usenameErrorMessage').val(validationResult.errorMessage).show();
        }
      });
  }
});</code></pre>
            </article>
            <article id="isFormPristine">
              <h3 class="heading">
                <span>isFormPristine</span>
                <a href="#isFormPristine">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <pre class="snippet"><code class="language-ts">formValidation.isFormPristine(): boolean;</code></pre>
              <p>
                It checks if the form was validated at least once using <a href="#validateForm"><code>validateForm</code></a>                or <a href="#validateField"><code>validateField</code></a>. It returns <code>true</code> or <code>false</code>.
              </p>
              <h4>Example:</h4>
              <pre class="snippet"><code class="language-js">const validationConstraints = {
  fields: {
    firstName: [
      { validator: Validators.required }
    ],
    lastName: [
      { validator: Validators.required }
    ],
  }
};

const formValidation = createFormValidation(validationConstraints);
const viewModel = {
  firstName: 'John',
  lastName: 'Doe',
};

console.log(formValidation.isFormPristine()); // true
formValidation
  .validateform(viewModel)
  .then(validationResult => {
    console.log(formValidation.isFormPristine()); // false
  });
</code></pre>
            </article>
            <article id="isFormDirty">
              <h3 class="heading">
                <span>isFormDirty</span>
                <a href="#isFormDirty">
                  <img src="img/link.svg" alt="(link this)">
                </a>
              </h3>
              <pre class="snippet"><code class="language-ts">formValidation.isFormDirty(): boolean;</code></pre>
              <p>
                This method is the counterpart of <a href="#isFormPristine"><code>isFormPristine</code></a>. It will return
                <code>false</code> when then form was never validated, and <code>true</code> if it was.
              </p>
              <pre class="snippet"><code class="language-js">const validationConstraints = {
  fields: {
    firstName: [
      { validator: Validators.required }
    ],
    lastName: [
      { validator: Validators.required }
    ],
  }
};

const formValidation = createFormValidation(validationConstraints);
console.log(formValidation.isFormDirty()); // false
formValidation
  .validateField(null, 'firstName', 'John')
  .then(validationResult => {
    console.log(formValidation.isFormDirty()); // true
  });</code></pre>
            </article>
          </section>
          <section id="changelog">
            <h3 class="heading">
              <span>Change Log</span>
              <a href="#changelog">
                <img src="img/link.svg" alt="(link this)">
              </a>
            </h3>
          </section>
        </main>
        <aside class="col-md-3">
          <nav class="main-menu hidden-sm hidden-xs scrollspy" data-toggle="affix" data-spy="affix" data-offset-top="240">
            <ul class="nav">
              <li>
                <a href="#introduction">Introduction</a>
                <ul class="nav">
                  <li><a href="#why">Why LcFormValidation</a></li>
                  <li><a href="#approach">Approach</a></li>
                </ul>
              </li>
              <li><a href="#download">Download</a></li>
              <li><a href="#installation">Installation</a></li>
              <li><a href="#examples">Examples</a></li>
              <li>
                <a href="#get-started">Get started</a>
                <ul class="nav">
                  <li><a href="#overview">Overview</a></li>
                  <li><a href="#ValidationConstraint">Validation constraint</a></li>
                  <li><a href="#validating-form">Validating form</a></li>
                </ul>
              </li>
              <li>
                <li>
                  <a href="#validators">Validators</a>
                  <ul class="nav">
                    <li><a href="#validators-required">required</a></li>
                    <li><a href="#validators-minLength">minLength</a></li>
                    <li><a href="#validators-maxLength">maxLength</a></li>
                    <li><a href="#validators-pattern">pattern</a></li>
                    <li><a href="#validators-email">email</a></li>
                  </ul>
                </li>
                <li><a href="#custom-validators">Custom validator</a></li>
              </li>
              <li>
                <a href="#api">API</a>
                <ul class="nav">
                  <li><a href="#FieldValidationResult">FieldValidationResult</a></li>
                  <li><a href="#FormValidationResult">FormValidationResult</a></li>
                  <li>
                    <a href="#validateForm">FormValidation</a>
                    <ul class="nav">
                      <li><a href="#validateForm">validateForm</a></li>
                      <li>
                        <a href="#validateField">validateField</a>
                        <ul class="nav">
                          <li><a href="#eventsFilter">Filter validations</a></li>
                        </ul>
                      </li>
                      <li><a href="#isValidationInProgress">isValidationInProgress</a></li>
                      <li><a href="#isFormPristine">isFormPristine</a></li>
                      <li><a href="#isFormDirty">isFormDirty</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><a href="#changelog">Change Log</a></li>
            </ul>
          </nav>
        </aside>
      </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prism.js" async></script>
    <script src="js/index.js"></script>
  </body>
</html>
